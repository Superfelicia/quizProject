{"ast":null,"code":"var _jsxFileName = \"/Users/fellan/dev/quizProject/frontend/src/pages/Quiz.js\";\nimport { useEffect, useState } from \"react\";\nimport style from '../styles/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Quiz = () => {\n  const url = 'https://localhost/3001';\n  const headers = new Headers();\n  headers.append('ngrok-skip-browser-warning', 'true');\n  // const [questions, setQuestions] = useState(null);\n  // const [activeQuestion, setActiveQuestion] = useState(0);\n  // const [selectedAnswer, setSelectedAnswer] = useState(null);\n  // const [selectedAnswerIndex, setSelectedAnswerIndex] = useState(null);\n  // const [result, setResult] = useState([]);\n  // const [isFinished, setIsFinished] = useState(false);\n  // const [score, setScore] = useState(0);\n  // const [quizAnswers, setQuizAnswers] = useState(null);\n\n  // useEffect(() => {\n  //     const fetchQuestions = async () => {\n  //         try {\n  //             const response = await fetch(url + '/getQuestions', {headers});\n  //             const data = await response.json();\n  //             return data;\n  //         } catch (error) {\n  //             console.error(error)\n  //             return null\n  //         }\n  //     }\n  //     //Anropa fetchQuestions direkt i useEffect och handle result\n  //     (async () => {\n  //         const dataQuestions = await fetchQuestions()\n  //         if (dataQuestions !== null) {\n  //             setQuestions(dataQuestions)\n  //         }\n  //     })()\n  // }, [])\n  //\n  // console.log(questions);\n  //\n  // useEffect(() => {\n  //     console.log(score)\n  // }, [score])\n  //\n  // const renderQuestion = () => {\n  //     if (activeQuestion >= questions?.length) {\n  //         return 'No more questions';\n  //     } else {\n  //         return questions[activeQuestion].question;\n  //     }\n  // }\n  //\n  // const onClickNext = () => {\n  //     if (activeQuestion <= questions?.length - 2) {\n  //         setActiveQuestion(prevActiveQuestion => prevActiveQuestion + 1);\n  //         const nextQuestionIndex = activeQuestion + 1;\n  //\n  //         setActiveQuestion(nextQuestionIndex);\n  //         setSelectedAnswer(null);\n  //         setSelectedAnswerIndex(null);\n  //     }\n  // }\n  //\n  // //returnera correctAnswer på question\n  // const checkCorrectAnswer = (questionId, answer) => {\n  //     const question = questions.find((q) => q.id === parseInt(questionId));\n  //     if (!question) {\n  //         // Om frågan inte finns i questions-arrayen, return false\n  //         return false;\n  //     }\n  //     return question.correctAnswer === answer.trim();\n  // }\n  //\n  // const onSelectedAnswer = (answer, index) => {\n  //     setSelectedAnswer(answer);\n  //     setSelectedAnswerIndex(index);\n  //\n  //     setResult(prevResult => ({\n  //         ...prevResult,\n  //         [questions[activeQuestion].id]: {\n  //             answer: answer.trim(), //lägg till användarens val\n  //             questionId: questions[activeQuestion].id, // lägg till questionId\n  //         },\n  //     }));\n  // }\n  //\n  // const onFinishedClick = async () => {\n  //     setQuizAnswers(null)\n  //     setIsFinished(true)\n  //     try {\n  //         fetch(url + '/postQuizAnswers', {\n  //             method: 'POST',\n  //             headers: {\n  //                 'Content-Type': 'application/json'\n  //             },\n  //             body: JSON.stringify({\n  //                 result,\n  //             }),\n  //         })\n  //     } catch (error) {\n  //         console.log('Error:', error)\n  //     }\n  //     try {\n  //         const response = await fetch(url + '/getQuizAnswers', {headers})\n  //         const dataAnswers = await response.json()\n  //         setQuizAnswers(dataAnswers)\n  //     } catch (error) {\n  //         console.log('Error:', error)\n  //     }\n  // }\n  //\n  // // gå igenom array när result är satt\n  // const calculateScore = () => {\n  //     let correctAnswers = 0\n  //     for (const question of questions) {\n  //         console.log(question)\n  //         const questionId = question.id\n  //         const userAnswer = result[questionId]?.answer\n  //         if (userAnswer) {\n  //             const isCorrect = checkCorrectAnswer(questionId, userAnswer)\n  //             if (isCorrect) {\n  //                 correctAnswers++\n  //             }\n  //         }\n  //     }\n  //     console.log(correctAnswers)\n  //     return correctAnswers\n  // }\n  //\n  // useEffect(() => {\n  //     if (result && questions) {\n  //         const newScore = calculateScore()\n  //         setScore(newScore)\n  //     }\n  // }, [result, questions])\n\n  //\n  // const quizIsFinished = () => {\n  //     return (\n  //         <>\n  //             <div className=\"header\">\n  //                 <h4>End of quiz</h4>\n  //             </div>\n  //             <div className=\"question-container\">\n  //                 <span className=\"question\">Score</span>\n  //                 <p className='score-text'>{score} / 4</p>\n  //             </div>\n  //             <div>\n  //                 {quizAnswers && (\n  //                     <div>\n  //                         <h5 className='score-answers score-text'>Quiz answers:</h5>\n  //                         <ol className='answers-list score-text'>\n  //                             {quizAnswers.map((answerData) => (\n  //                                 <li key={answerData.questionId}>\n  //                                     <p className={checkCorrectAnswer(answerData.questionId, answerData.answer) ?\n  //                                         'correct-answer score-text' : 'wrong-answer score-text'}>\n  //                                         {answerData.answer}\n  //                                     </p>\n  //                                 </li>\n  //                             ))}\n  //                         </ol>\n  //                     </div>\n  //                 )}\n  //             </div>\n  //         </>\n  //     );\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"display-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 9\n  }, this);\n};\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["useEffect","useState","style","jsxDEV","_jsxDEV","Quiz","url","headers","Headers","append","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fellan/dev/quizProject/frontend/src/pages/Quiz.js"],"sourcesContent":["import {useEffect, useState} from \"react\"\nimport style from '../styles/style.css'\n\nconst Quiz = () => {\n    const url = 'https://localhost/3001';\n    const headers = new Headers();\n    headers.append('ngrok-skip-browser-warning', 'true');\n    // const [questions, setQuestions] = useState(null);\n    // const [activeQuestion, setActiveQuestion] = useState(0);\n    // const [selectedAnswer, setSelectedAnswer] = useState(null);\n    // const [selectedAnswerIndex, setSelectedAnswerIndex] = useState(null);\n    // const [result, setResult] = useState([]);\n    // const [isFinished, setIsFinished] = useState(false);\n    // const [score, setScore] = useState(0);\n    // const [quizAnswers, setQuizAnswers] = useState(null);\n\n    // useEffect(() => {\n    //     const fetchQuestions = async () => {\n    //         try {\n    //             const response = await fetch(url + '/getQuestions', {headers});\n    //             const data = await response.json();\n    //             return data;\n    //         } catch (error) {\n    //             console.error(error)\n    //             return null\n    //         }\n    //     }\n    //     //Anropa fetchQuestions direkt i useEffect och handle result\n    //     (async () => {\n    //         const dataQuestions = await fetchQuestions()\n    //         if (dataQuestions !== null) {\n    //             setQuestions(dataQuestions)\n    //         }\n    //     })()\n    // }, [])\n    //\n    // console.log(questions);\n    //\n    // useEffect(() => {\n    //     console.log(score)\n    // }, [score])\n    //\n    // const renderQuestion = () => {\n    //     if (activeQuestion >= questions?.length) {\n    //         return 'No more questions';\n    //     } else {\n    //         return questions[activeQuestion].question;\n    //     }\n    // }\n    //\n    // const onClickNext = () => {\n    //     if (activeQuestion <= questions?.length - 2) {\n    //         setActiveQuestion(prevActiveQuestion => prevActiveQuestion + 1);\n    //         const nextQuestionIndex = activeQuestion + 1;\n    //\n    //         setActiveQuestion(nextQuestionIndex);\n    //         setSelectedAnswer(null);\n    //         setSelectedAnswerIndex(null);\n    //     }\n    // }\n    //\n    // //returnera correctAnswer på question\n    // const checkCorrectAnswer = (questionId, answer) => {\n    //     const question = questions.find((q) => q.id === parseInt(questionId));\n    //     if (!question) {\n    //         // Om frågan inte finns i questions-arrayen, return false\n    //         return false;\n    //     }\n    //     return question.correctAnswer === answer.trim();\n    // }\n    //\n    // const onSelectedAnswer = (answer, index) => {\n    //     setSelectedAnswer(answer);\n    //     setSelectedAnswerIndex(index);\n    //\n    //     setResult(prevResult => ({\n    //         ...prevResult,\n    //         [questions[activeQuestion].id]: {\n    //             answer: answer.trim(), //lägg till användarens val\n    //             questionId: questions[activeQuestion].id, // lägg till questionId\n    //         },\n    //     }));\n    // }\n    //\n    // const onFinishedClick = async () => {\n    //     setQuizAnswers(null)\n    //     setIsFinished(true)\n    //     try {\n    //         fetch(url + '/postQuizAnswers', {\n    //             method: 'POST',\n    //             headers: {\n    //                 'Content-Type': 'application/json'\n    //             },\n    //             body: JSON.stringify({\n    //                 result,\n    //             }),\n    //         })\n    //     } catch (error) {\n    //         console.log('Error:', error)\n    //     }\n    //     try {\n    //         const response = await fetch(url + '/getQuizAnswers', {headers})\n    //         const dataAnswers = await response.json()\n    //         setQuizAnswers(dataAnswers)\n    //     } catch (error) {\n    //         console.log('Error:', error)\n    //     }\n    // }\n    //\n    // // gå igenom array när result är satt\n    // const calculateScore = () => {\n    //     let correctAnswers = 0\n    //     for (const question of questions) {\n    //         console.log(question)\n    //         const questionId = question.id\n    //         const userAnswer = result[questionId]?.answer\n    //         if (userAnswer) {\n    //             const isCorrect = checkCorrectAnswer(questionId, userAnswer)\n    //             if (isCorrect) {\n    //                 correctAnswers++\n    //             }\n    //         }\n    //     }\n    //     console.log(correctAnswers)\n    //     return correctAnswers\n    // }\n    //\n    // useEffect(() => {\n    //     if (result && questions) {\n    //         const newScore = calculateScore()\n    //         setScore(newScore)\n    //     }\n    // }, [result, questions])\n\n    //\n    // const quizIsFinished = () => {\n    //     return (\n    //         <>\n    //             <div className=\"header\">\n    //                 <h4>End of quiz</h4>\n    //             </div>\n    //             <div className=\"question-container\">\n    //                 <span className=\"question\">Score</span>\n    //                 <p className='score-text'>{score} / 4</p>\n    //             </div>\n    //             <div>\n    //                 {quizAnswers && (\n    //                     <div>\n    //                         <h5 className='score-answers score-text'>Quiz answers:</h5>\n    //                         <ol className='answers-list score-text'>\n    //                             {quizAnswers.map((answerData) => (\n    //                                 <li key={answerData.questionId}>\n    //                                     <p className={checkCorrectAnswer(answerData.questionId, answerData.answer) ?\n    //                                         'correct-answer score-text' : 'wrong-answer score-text'}>\n    //                                         {answerData.answer}\n    //                                     </p>\n    //                                 </li>\n    //                             ))}\n    //                         </ol>\n    //                     </div>\n    //                 )}\n    //             </div>\n    //         </>\n    //     );\n    // }\n\n    return (\n        <div className=\"display-container\">\n            {/*{questions?.length > 0 &&*/}\n            {/*    <div>*/}\n            {/*        {isFinished ? quizIsFinished() : (*/}\n            {/*            <>*/}\n            {/*                <div className=\"header\">*/}\n            {/*                    <div>*/}\n            {/*                        <h4>Quiz</h4>*/}\n            {/*                    </div>*/}\n            {/*                </div>*/}\n            {/*                <div className=\"question-container\">*/}\n            {/*                    <span className=\"question\">{renderQuestion()}</span>*/}\n            {/*                </div>*/}\n            {/*                <div className=\"container\">*/}\n            {/*                    {*/}\n            {/*                        questions[activeQuestion].option.split(',').map((el, index) => (*/}\n            {/*                            <div id=\"option-container\"*/}\n            {/*                                 onClick={() => onSelectedAnswer(el, index, selectedAnswer)}*/}\n            {/*                                 className={index === selectedAnswerIndex ? 'selected-answer' : null}*/}\n            {/*                                 key={index}>*/}\n            {/*                                <div className='option-text'>*/}\n            {/*                                    {el}*/}\n            {/*                                </div>*/}\n            {/*                            </div>*/}\n            {/*                        ))*/}\n            {/*                    }*/}\n            {/*                </div>*/}\n            {/*                <button className=\"next-button\" disabled={selectedAnswerIndex === null}*/}\n            {/*                        onClick={activeQuestion >= questions?.length - 1 ? onFinishedClick : onClickNext}>{activeQuestion === questions?.length - 1 ? 'Finish' : 'Next'}*/}\n            {/*                </button>*/}\n            {/*            </>*/}\n            {/*        )}*/}\n            {/*    </div>*/}\n            {/*}*/}\n        </div>\n    )\n}\n\nexport default Quiz;\n"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,KAAK,MAAM,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,IAAI,GAAGA,CAAA,KAAM;EACf,MAAMC,GAAG,GAAG,wBAAwB;EACpC,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAC,CAAC;EAC7BD,OAAO,CAACE,MAAM,CAAC,4BAA4B,EAAE,MAAM,CAAC;EACpD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACIL,OAAA;IAAKM,SAAS,EAAC;EAAmB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAkC7B,CAAC;AAEd,CAAC;AAAAC,EAAA,GAxMKV,IAAI;AA0MV,eAAeA,IAAI;AAAC,IAAAU,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}